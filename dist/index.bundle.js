(()=>{"use strict";var t={};t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var a=n.getElementsByTagName("script");if(a.length)for(var i=a.length-1;i>-1&&!e;)e=a[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})();var e={events:{},on:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},off:function(t,e){if(this.events[t])for(var n=0;n<this.events[t].length;n++)if(this.events[t][n]===e){this.events[t].splice(n,1);break}},emit:function(t,e){this.events[t]&&this.events[t].forEach((function(t){t(e)}))}},n="showNav",a="hideNav";function i(){var t=document.querySelector(".zig-zag-nav");t.removeEventListener("animationend",i),t.setAttribute("aria-hidden",!0),t.setAttribute("data-visibility",!1)}function r(){var t=document.querySelector(".zig-zag-nav");t.setAttribute("data-visibility","closing"),t.addEventListener("animationend",i)}function d(){var t=document.querySelector(".zig-zag-nav");t.removeEventListener("animationend",i),t.setAttribute("aria-hidden",!1),t.setAttribute("data-visibility",!0)}const o=t.p+"f0f19e6f57687481453e.webp";function c(){this.classList.contains("active")?(this.classList.remove("active"),this.setAttribute("aria-label","Open Navigation Menu"),this.setAttribute("aria-expanded",!1),e.emit(a)):(this.classList.add("active"),this.setAttribute("aria-label","Close Navigation Menu"),this.setAttribute("aria-expanded",!0),e.emit(n))}function s(){var t=document.createElement("div");t.classList.add("list-icon-container"),t.setAttribute("aria-hidden",!0);var e=document.createElement("div");return e.classList.add("list-icon-bars"),t.appendChild(e),t}function l(t){var e=document.querySelector(t);if(e)return e;console.error("Element not found for selector: ".concat(t))}function u(t,e){for(var n in e)t.setAttribute(n,e[n])}function m(){e.emit("toggleDisplayFormContainerVisibility")}!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement("script");for(var a in n.setAttribute("src",t),n.setAttribute("type","text/javascript"),e)n.setAttribute(a,e[a]);document.head.appendChild(n)}("https://kit.fontawesome.com/24176ab973.js",{crossorigin:"anonymous"});var p=[];function v(t){e.on("addProject",(function(){var e=document.querySelector("#project-name-input"),n=e.value.trim(),a=t;if(!n)return alert("Enter Project Name");var i=function(t){if("string"!=typeof t)throw new Error("name must be a string");var e={name:t,tasks:[]};return{addTask:function(t){t.setProject(this),e.tasks.push(t)},getTasks:function(){return e.tasks},getName:function(){return e.name},setName:function(t){e.name=t}}}(n);p.push(i),function(t,e){for(var n=t.slice().reverse();e.firstChild;)e.removeChild(e.firstChild);n.forEach((function(t){e.appendChild(function(t){var e=document.createElement("button");e.classList.add("nav-link"),e.setAttribute("type","button"),e.setAttribute("aria-label","Project ".concat(t)),e.textContent=t;var n=s(),a=document.createElement("li");return a.classList.add("project-li"),a.classList.add("nav-li"),e.setAttribute("aria-label","Project ".concat(t)),a.appendChild(n),a.appendChild(e),a}(t.getName()))}))}(p,a),e.value=""}))}function h(){e.emit("addProject")}var b=document.getElementById("content");b.appendChild(function(){var t=document.createElement("header"),e=document.createElement("div");e.classList.add("header-left");var n=document.createElement("img");n.classList.add("header-logo"),n.setAttribute("src",o),n.setAttribute("alt","Priority Logo");var a=document.createElement("h1");a.classList.add("header-title"),a.textContent="<pr{io}rity>",e.appendChild(n),e.appendChild(a);var i=document.createElement("div");return i.classList.add("header-right"),i.appendChild(function(){var t=document.createElement("div");t.setAttribute("id","theme-toggle-container");var e=document.createElement("input");e.setAttribute("type","checkbox"),e.setAttribute("id","theme-toggle-checkbox");var n=document.createElement("label");n.setAttribute("id","theme-toggle-label"),n.setAttribute("for","theme-toggle-checkbox");var a=document.createElement("i");a.classList.add("fa-solid","fa-sun"),a.setAttribute("id","sun");var i=document.createElement("i");return i.classList.add("fa-solid","fa-moon"),i.setAttribute("id","moon"),n.appendChild(a),n.appendChild(i),t.appendChild(e),t.appendChild(n),t}()),i.appendChild(function(t){var e=document.createElement("button");e.classList.add("nav-toggle-button"),e.setAttribute("aria-label","Open Navigation Menu"),e.setAttribute("aria-expanded",!1),e.setAttribute("aria-controls","nav-primary-aria");var n=document.createElement("div");return n.classList.add("nav-toggle-bars"),e.appendChild(n),e.addEventListener("click",c),e}()),t.appendChild(e),t.appendChild(i),content.appendChild(t),t}()),b.appendChild(function(t,i,o,c,s){var l=document.createElement("nav");l.classList.add("zig-zag-nav"),l.setAttribute("id","nav-primary-aria"),l.setAttribute("aria-label","Main Navigation"),l.setAttribute("aria-hidden",!0),l.setAttribute("data-visibility",!1);var u=function(){var e=document.createElement("div");e.classList.add("nav-list-container");var n=document.createElement("h2");n.classList.add("nav-list-header"),n.textContent=m,l.appendChild(n);var a=document.createElement("ul");a.classList.add("nav-ul");var i=t[m].listElements,r=document.createDocumentFragment();i.forEach((function(t,e){var n=t[0],a=(t[1],document.createElement("button"));a.classList.add("nav-link"),"All Tasks"===n&&a.setAttribute("aria-current","page");var i=document.createElement("li");i.classList.add("nav-li"),a.textContent=n,i.appendChild(a),r.appendChild(i)})),a.appendChild(r),e.appendChild(n),e.appendChild(a),l.appendChild(e)};for(var m in t)u();return e.on(n,d),e.on(a,r),l}({Home:{listElements:[["All Tasks","#"],["Today","#"],["Next 7 Days","#"],["Important","#"]]},Projects:{listElements:[]}}));var f,A=document.querySelector(".nav-list-container:nth-child(2)");A.setAttribute("id","project-nav-list-container"),A.insertBefore(function(){var t=document.createElement("input");t.setAttribute("id","project-name-input"),t.setAttribute("type","text"),t.setAttribute("placeholder","Enter Project Name"),t.setAttribute("max-length",24),t.addEventListener("keydown",(function(t){"Enter"===t.key&&(t.preventDefault(),e.emit("addProject"))}));var n=document.createElement("button");n.setAttribute("id","add-project-button"),n.setAttribute("type","button"),n.setAttribute("aria-label","Add Project"),n.textContent="add";var a=document.createElement("button");a.setAttribute("id","cancel-add-project-button"),a.setAttribute("type","button"),a.setAttribute("aria-label","Cancel Add Project"),a.textContent="cancel";var i=document.createElement("div");i.setAttribute("id","project-input-container"),i.appendChild(s()),i.appendChild(t);var r=document.createElement("div");r.setAttribute("id","project-buttons-container"),r.appendChild(n),r.appendChild(a);var d=document.createElement("form");d.setAttribute("id","project-form-container"),d.setAttribute("aria-label","hidden"),d.setAttribute("data-hidden",!0),d.appendChild(i),d.appendChild(r);var o=document.createElement("button");o.setAttribute("id","new-project-button"),o.setAttribute("type","button"),o.setAttribute("aria-label","New Project"),o.textContent="New Project";var c=document.createElement("div");return c.setAttribute("id","add-project-container"),c.appendChild(o),c.appendChild(d),c}(),A.lastChild),A.querySelector(".nav-ul").setAttribute("id","project-nav-list"),b.appendChild(function(){var t=document.createElement("main"),e=document.createElement("div");e.classList.add("main-container");var n=document.createElement("h2");n.classList.add("main-heading"),n.textContent="all tasks",e.appendChild(n);var a=document.createElement("div");a.classList.add("main-content");var i=document.createElement("ul");i.classList.add("task-list"),a.appendChild(i);var r=document.createElement("p");r.setAttribute("id","placeholder-text"),r.classList.add("hvr-wobble-vertical"),r.textContent="Set your priorities in menu above.";var d=document.createElement("div");return d.setAttribute("id","placeholder-container"),d.appendChild(r),i.appendChild(d),e.appendChild(a),t.appendChild(e),t}()),document.querySelectorAll(".task-item-details").forEach((function(t){var e,n,a;n=(e=t).scrollWidth-e.clientWidth,a=-1,function t(i){var r=e.scrollLeft+.5*a;r>=n?a=-1:r<=0&&(a=1),e.scrollLeft=r,requestAnimationFrame(t)}()})),document.getElementById("new-project-button").addEventListener("click",(function(){e.emit("toggleDisplayFormContainerVisibility")})),f=l("#project-form-container"),e.on("toggleDisplayFormContainerVisibility",(function(){var t=f.getAttribute("data-hidden");"true"===t?u(f,{"data-hidden":"false","aria-label":"visible"}):"false"===t&&u(f,{"data-hidden":"true","aria-label":"hidden"}),function(t){var e,n;e="true"===t.getAttribute("data-hidden"),(n=document.getElementById("cancel-add-project-button"))&&(e?n.removeEventListener("click",m):n.addEventListener("click",m))}(l("#project-form-container")),document.querySelector("#add-project-button").addEventListener("click",h),v(l("#project-nav-list"))}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUdwQkYsRUFBaUJRLFdBQWFELEVBRTlCRSxzQkFBc0JKLEVBQ3hCLENBRUFBLEVQaUJGLElJeEMyQjdKLFNBQVMyRixlQUFlLHNCQUNoQy9ELGlCQUFpQixTQU5wQyxXQUNFbEIsRUFBT08sS0FBSyx1Q0FDZCxJQXJCc0N5QixFQTJCUEYsRUFBNEIsMkJBMUJ6RDlCLEVBQU9DLEdBQUcsd0NBQXdDLFdBQ2hELElBQU11SixFQUE2QnhILEVBQWN5SCxhQUFhLGVBQzNCLFNBQS9CRCxFQUNGcEgsRUFBY0osRUFBZSxDQUMzQixjQUFlLFFBQ2YsYUFBYyxZQUV3QixVQUEvQndILEdBQ1RwSCxFQUFjSixFQUFlLENBQzNCLGNBQWUsT0FDZixhQUFjLFdYRHRCLFNBQXNDQSxHQVp0QyxJQUFvQzBILEVBQzVCOUIsRUFENEI4QixFQWE2QixTQUE5QzFILEVBQWN5SCxhQUFhLGdCQVp0QzdCLEVBQXlCdEksU0FBUzJGLGVBQWUsZ0NBR2hEeUUsRUFHSDlCLEVBQXVCN0csb0JBQW9CLFFBQVN5QixHQUZwRG9GLEVBQXVCMUcsaUJBQWlCLFFBQVNzQixHQVV2RCxDQUlFbUgsQ0FENkI3SCxFQUE0Qiw0QklzQmhDeEMsU0FBU3dCLGNBQWMsdUJBQy9CSSxpQkFBaUIsUUFBUzZELEdBRzNDOUIsRUFEb0JuQixFQUE0QixxQk96QmhELEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmlvcml0eS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9wcmlvcml0eS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3ByaW9yaXR5L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3ByaW9yaXR5Ly4vc3JjL3V0aWxpdGllcy9wdWJzdWIuanMiLCJ3ZWJwYWNrOi8vcHJpb3JpdHkvLi9zcmMvanMvZXZlbnROYW1lcy5qcyIsIndlYnBhY2s6Ly9wcmlvcml0eS8uL3NyYy9jb21wb25lbnRzL3ppZy16YWctbmF2L3ppZy16YWctbmF2LmpzIiwid2VicGFjazovL3ByaW9yaXR5Ly4vc3JjL2NvbXBvbmVudHMvbmF2LXRvZ2dsZS9uYXYtdG9nZ2xlLmpzIiwid2VicGFjazovL3ByaW9yaXR5Ly4vc3JjL2NvbXBvbmVudHMvbGlzdEljb24vbGlzdEljb24uanMiLCJ3ZWJwYWNrOi8vcHJpb3JpdHkvLi9zcmMvdXRpbGl0aWVzL2NoZWNrLXRhcmdldC1lbGVtZW50LWV4aXN0ZW5jZS5qcyIsIndlYnBhY2s6Ly9wcmlvcml0eS8uL3NyYy91dGlsaXRpZXMvc2V0LWF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vcHJpb3JpdHkvLi9zcmMvanMvaGFuZGxlTmV3UHJvamVjdENhbmNlbEJ1dHRvbi5qcyIsIndlYnBhY2s6Ly9wcmlvcml0eS8uL3NyYy91dGlsaXRpZXMvaHRtbC1zY3JpcHQtaW5qZWN0aW9uLmpzIiwid2VicGFjazovL3ByaW9yaXR5Ly4vc3JjL2NvbXBvbmVudHMvdGhlbWUtdG9nZ2xlL3RoZW1lLXRvZ2dsZS5tYXJrdXAuanMiLCJ3ZWJwYWNrOi8vcHJpb3JpdHkvLi9zcmMvanMvZGF0YS5qcyIsIndlYnBhY2s6Ly9wcmlvcml0eS8uL3NyYy9qcy9oYW5kbGUtcHJvamVjdC1hZGQtYnV0dG9uLmpzIiwid2VicGFjazovL3ByaW9yaXR5Ly4vc3JjL2pzL2xvZ2ljLmpzIiwid2VicGFjazovL3ByaW9yaXR5Ly4vc3JjL2pzL2NyZWF0ZS1wcm9qZWN0LWl0ZW0uanMiLCJ3ZWJwYWNrOi8vcHJpb3JpdHkvLi9zcmMvanMvYXBwLmpzIiwid2VicGFjazovL3ByaW9yaXR5Ly4vc3JjL2pzL2hlYWRlci1tYXJrdXAuanMiLCJ3ZWJwYWNrOi8vcHJpb3JpdHkvLi9zcmMvY29tcG9uZW50cy9uYXYtdG9nZ2xlL25hdi10b2dnbGUtbWFya3VwLmpzIiwid2VicGFjazovL3ByaW9yaXR5Ly4vc3JjL2NvbXBvbmVudHMvemlnLXphZy1uYXYvemlwLXphZy1uYXYtbWFya3VwLmpzIiwid2VicGFjazovL3ByaW9yaXR5Ly4vc3JjL2pzL2hhbmRsZU5ld1Byb2plY3RCdXR0b24uanMiLCJ3ZWJwYWNrOi8vcHJpb3JpdHkvLi9zcmMvanMvY3JlYXRlLWFkZC1wcm9qZWN0LWZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJpb3JpdHkvLi9zcmMvanMvbWFpbi1tYXJrdXAuanMiLCJ3ZWJwYWNrOi8vcHJpb3JpdHkvLi9zcmMvdXRpbGl0aWVzL3Njcm9sbC1lbGVtZW50LWNvbnRlbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjO1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHtcblx0XHRcdHZhciBpID0gc2NyaXB0cy5sZW5ndGggLSAxO1xuXHRcdFx0d2hpbGUgKGkgPiAtMSAmJiAhc2NyaXB0VXJsKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiLy8gKiBldmVudHMgKHB1Ymxpc2ggc3Vic2NyaWJlIC8gbWVkaWF0b3IpIHBhdHRlcm5cbmxldCBldmVudHMgPSB7XG4gIGV2ZW50czoge30sXG4gIG9uOiBmdW5jdGlvbiAoZXZlbnROYW1lLCBmbikge1xuICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0gPSB0aGlzLmV2ZW50c1tldmVudE5hbWVdIHx8IFtdO1xuICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0ucHVzaChmbik7XG4gIH0sXG4gIG9mZjogZnVuY3Rpb24gKGV2ZW50TmFtZSwgZm4pIHtcbiAgICBpZiAodGhpcy5ldmVudHNbZXZlbnROYW1lXSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmV2ZW50c1tldmVudE5hbWVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmV2ZW50c1tldmVudE5hbWVdW2ldID09PSBmbikge1xuICAgICAgICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0uc3BsaWNlKGksIDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBlbWl0OiBmdW5jdGlvbiAoZXZlbnROYW1lLCBkYXRhKSB7XG4gICAgaWYgKHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0pIHtcbiAgICAgIHRoaXMuZXZlbnRzW2V2ZW50TmFtZV0uZm9yRWFjaChmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgZm4oZGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG59O1xuXG4vLyAhIHdoZW4gYW4gZXZlbnQgaXMgY2FsbGVkIHdpdGggb246XG4gIC8vICogZXZlbnQgbmFtZVxuLy8gKiAgIGZ1bmN0aW9uIHRvIHJ1blxuLy8gKiAgIGFkZCBmdW5jdGlvbiB0byBldmVudHMgb2JqZWN0XG4vLyAqICAgZXZlbnRzID0ge1xuLy8gKiAgICAgZXZlbnRzOiB7XG4vLyAqICAgICAgIGV2ZW50TmFtZTogW2ZuXSxcbi8vICogICAgIH0sXG4vLyAqICAgfVxuLy8gKlxuLy8gKiB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCB3aXRoIGVtaXQ6XG4vLyAqICAgZXZlbnRzID0ge1xuLy8gKiAgICAgZXZlbnRzOiB7XG4vLyAqICAgICAgIGV2ZW50TmFtZTogW2ZuXSxcbi8vICogICAgIH0sXG4vLyAqICAgfVxuLy8gKiAgIGV2ZW50cy5ldmVudHMuZXZlbnROYW1lLmZvckVhY2goZm4gPT4gZm4oZGF0YSkpO1xuLy8gKlxuLy8gKiB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCB3aXRoIG9mZjpcbi8vICogICBldmVudHMgPSB7XG4vLyAqICAgICBldmVudHM6IHtcbi8vICogICAgICAgZXZlbnROYW1lOiBbZm5dLFxuLy8gKiAgICAgfSxcbi8vICogICB9XG4vLyAqICAgZXZlbnRzLmV2ZW50cy5ldmVudE5hbWUuZm9yRWFjaChmbiA9PiB7XG4vLyAqICAgICBpZiAoZm4gPT09IGZuKSB7XG4vLyAqICAgICAgIGV2ZW50cy5ldmVudHMuZXZlbnROYW1lLnNwbGljZShpLCAxKTtcbi8vICogICAgIH1cbi8vICogICB9KTtcbi8vICpcbi8vICogICBmdW5jdGlvbiB0byByZW1vdmVcbi8vICogICByZW1vdmUgZnVuY3Rpb24gZnJvbSBldmVudHMgb2JqZWN0XG4vLyAqICAgZXZlbnRzID0ge1xuLy8gKiAgICAgZXZlbnRzOiB7XG4vLyAqICAgICAgIGV2ZW50TmFtZTogW10sXG4vLyAqICAgICB9LFxuLy8gKiAgIH1cbi8vICpcblxuZXhwb3J0IHsgZXZlbnRzIH07IiwiZXhwb3J0IGNvbnN0IFNIT1dfTkFWX0VWRU5UID0gJ3Nob3dOYXYnO1xuXG5leHBvcnQgY29uc3QgSElERV9OQVZfRVZFTlQgPSAnaGlkZU5hdic7IiwiaW1wb3J0IHsgZXZlbnRzIH0gZnJvbSAnLi4vLi4vdXRpbGl0aWVzL3B1YnN1Yi5qcyc7XG5pbXBvcnQgeyBISURFX05BVl9FVkVOVCwgU0hPV19OQVZfRVZFTlQgfSBmcm9tICcuLi8uLi9qcy9ldmVudE5hbWVzLmpzJztcblxuLy8gISBsZXQgaXNBbmltYXRpbmcgPSBmYWxzZTtcbi8vICEgbGV0IHBlbmRpbmcgPSBudWxsO1xuXG5mdW5jdGlvbiBoaWRlTmF2KCkge1xuICBjb25zdCB6aWdaYWdOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuemlnLXphZy1uYXYnKTtcbiAgXG4gIHppZ1phZ05hdi5yZW1vdmVFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCBoaWRlTmF2KTtcbiAgXG4gIHppZ1phZ05hdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XG4gIHppZ1phZ05hdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmlzaWJpbGl0eScsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gaW5pdGlhdGVIaWRlTmF2KCkge1xuICBjb25zdCB6aWdaYWdOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuemlnLXphZy1uYXYnKTtcbiAgemlnWmFnTmF2LnNldEF0dHJpYnV0ZSgnZGF0YS12aXNpYmlsaXR5JywgJ2Nsb3NpbmcnKTtcbiAgemlnWmFnTmF2LmFkZEV2ZW50TGlzdGVuZXIoJ2FuaW1hdGlvbmVuZCcsIGhpZGVOYXYpO1xufVxuXG5mdW5jdGlvbiBzaG93TmF2KCkge1xuICBjb25zdCB6aWdaYWdOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuemlnLXphZy1uYXYnKTtcblxuICB6aWdaYWdOYXYucmVtb3ZlRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgaGlkZU5hdik7XG4gIC8vICEgVGhpcyBpcyBhIGhhY2sgdG8gcHJldmVudCB0aGUgbmF2IGZyb20gaGlkaW5nIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZSBuYXYgdG9nZ2xlIGJ1dHRvbiB3aGlsZSB0aGUgbmF2IGlzIGFuaW1hdGluZyBjbG9zZWRcbiAgLy8gISB1c2UgaXNBbmltYXRpbmcgdG8gcHJldmVudCB0aGUgbmF2IGZyb20gaGlkaW5nIHdoaWxlIGl0IGlzIGFuaW1hdGluZyBjbG9zZWRcbiAgLy8gISB1c2UgcGVuZGluZyB0byBwcmV2ZW50IHRoZSBuYXYgZnJvbSBoaWRpbmcgd2hpbGUgaXQgaXMgYW5pbWF0aW5nIG9wZW5cbiAgLy8gISBpc0FuaW1hdGluZyBhbmQgcGVuZGluZyBhcmUgc2V0IHRvIHRydWUgd2hlbiB0aGUgbmF2IGlzIGFuaW1hdGluZyBhbmQgc2V0IHRvIGZhbHNlIHdoZW4gdGhlIGFuaW1hdGlvbiBpcyBjb21wbGV0ZVxuICAvLyAhIGlzQW5pbWF0aW5nIGFuZCBwZW5kaW5nIGFyZSBzZXQgdG8gZmFsc2Ugd2hlbiB0aGUgbmF2IGlzIGhpZGRlblxuICAvLyAhIGlzQW5pbWF0aW5nIGFuZCBwZW5kaW5nIGFyZSBzZXQgdG8gZmFsc2Ugd2hlbiB0aGUgbmF2IGlzIHNob3duXG5cbiAgemlnWmFnTmF2LnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCBmYWxzZSk7XG4gIHppZ1phZ05hdi5zZXRBdHRyaWJ1dGUoJ2RhdGEtdmlzaWJpbGl0eScsIHRydWUpO1xufVxuXG5mdW5jdGlvbiBhY3RpdmF0ZUxpc3RlbmVycygpIHtcbiAgZXZlbnRzLm9uKFNIT1dfTkFWX0VWRU5ULCBzaG93TmF2KTtcbiAgZXZlbnRzLm9uKEhJREVfTkFWX0VWRU5ULCBpbml0aWF0ZUhpZGVOYXYpO1xufVxuXG5leHBvcnQgeyBhY3RpdmF0ZUxpc3RlbmVycyB9OyIsImltcG9ydCB7IGV2ZW50cyB9IGZyb20gJy4uLy4uL3V0aWxpdGllcy9wdWJzdWIuanMnO1xuaW1wb3J0IHsgSElERV9OQVZfRVZFTlQsIFNIT1dfTkFWX0VWRU5UIH0gZnJvbSAnLi4vLi4vanMvZXZlbnROYW1lcy5qcyc7XG5cbmZ1bmN0aW9uIHRvZ2dsZU5hdkJ1dHRvbigpIHtcbiAgbGV0IHRvZ2dsZUJ1dHRvbkFjdGl2YXRlZCA9IHRoaXMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKTtcblxuICBpZiAoIXRvZ2dsZUJ1dHRvbkFjdGl2YXRlZCkge1xuICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdDbG9zZSBOYXZpZ2F0aW9uIE1lbnUnKTtcbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuXG4gICAgZXZlbnRzLmVtaXQoU0hPV19OQVZfRVZFTlQpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG5cbiAgICB0aGlzLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdPcGVuIE5hdmlnYXRpb24gTWVudScpO1xuICAgIHRoaXMuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xuXG4gICAgZXZlbnRzLmVtaXQoSElERV9OQVZfRVZFTlQpO1xuICB9XG59XG5cbmV4cG9ydCB7IHRvZ2dsZU5hdkJ1dHRvbiB9O1xuIiwiaW1wb3J0ICcuL2xpc3RJY29uLnNjc3MnO1xuXG5mdW5jdGlvbiBjcmVhdGVMaXN0SWNvbigpIHtcbiAgY29uc3QgbGlzdEljb25Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbGlzdEljb25Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnbGlzdC1pY29uLWNvbnRhaW5lcicpO1xuICBsaXN0SWNvbkNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XG5cbiAgY29uc3QgbGlzdEljb25CYXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGxpc3RJY29uQmFycy5jbGFzc0xpc3QuYWRkKCdsaXN0LWljb24tYmFycycpO1xuXG4gIGxpc3RJY29uQ29udGFpbmVyLmFwcGVuZENoaWxkKGxpc3RJY29uQmFycyk7XG5cbiAgcmV0dXJuIGxpc3RJY29uQ29udGFpbmVyO1xufVxuXG5leHBvcnQgeyBjcmVhdGVMaXN0SWNvbiB9O1xuXG4iLCJmdW5jdGlvbiBjaGVja1RhcmdldEVsZW1lbnRFeGlzdGVuY2Uoc2VsZWN0b3IpIHtcbiAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICBcbiAgaWYgKCF0YXJnZXRFbGVtZW50KSB7XG4gICAgY29uc29sZS5lcnJvcihgRWxlbWVudCBub3QgZm91bmQgZm9yIHNlbGVjdG9yOiAke3NlbGVjdG9yfWApO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXRFbGVtZW50XG59XG5cbmV4cG9ydCB7IGNoZWNrVGFyZ2V0RWxlbWVudEV4aXN0ZW5jZSB9OyIsImZ1bmN0aW9uIHNldEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cmlidXRlcykge1xuICBmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9XG59XG5cbmV4cG9ydCB7IHNldEF0dHJpYnV0ZXMgfTsiLCJpbXBvcnQgeyBldmVudHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL3B1YnN1YlwiO1xuaW1wb3J0IHsgY2hlY2tUYXJnZXRFbGVtZW50RXhpc3RlbmNlIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9jaGVjay10YXJnZXQtZWxlbWVudC1leGlzdGVuY2VcIjtcblxuZnVuY3Rpb24gZW1pdFB1Ymxpc2hQcm9qZWN0QnV0dG9uTGlzdGVuZXIoKSB7XG4gIGV2ZW50cy5lbWl0KCd0b2dnbGVEaXNwbGF5Rm9ybUNvbnRhaW5lclZpc2liaWxpdHknKTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlQ2FuY2VsQnV0dG9uTGlzdGVuZXIoaXNIaWRkZW4pIHtcbiAgY29uc3QgY2FuY2VsQWRkUHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW5jZWwtYWRkLXByb2plY3QtYnV0dG9uJyk7XG5cbiAgaWYgKGNhbmNlbEFkZFByb2plY3RCdXR0b24pIHtcbiAgICBpZiAoIWlzSGlkZGVuKSB7XG4gICAgICBjYW5jZWxBZGRQcm9qZWN0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZW1pdFB1Ymxpc2hQcm9qZWN0QnV0dG9uTGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYW5jZWxBZGRQcm9qZWN0QnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZW1pdFB1Ymxpc2hQcm9qZWN0QnV0dG9uTGlzdGVuZXIpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja1RhcmdldEVsZW1lbnRWaXNpYmlsaXR5KHRhcmdldEVsZW1lbnQpIHtcbiAgY29uc3QgaXNIaWRkZW4gPSB0YXJnZXRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1oaWRkZW4nKSA9PT0gJ3RydWUnO1xuICB0b2dnbGVDYW5jZWxCdXR0b25MaXN0ZW5lcihpc0hpZGRlbik7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU5ld1Byb2plY3RDYW5jZWxCdXR0b24oKSB7XG4gIGNvbnN0IHByb2plY3RGb3JtQ29udGFpbmVyID0gY2hlY2tUYXJnZXRFbGVtZW50RXhpc3RlbmNlKCcjcHJvamVjdC1mb3JtLWNvbnRhaW5lcicpO1xuICBjaGVja1RhcmdldEVsZW1lbnRWaXNpYmlsaXR5KHByb2plY3RGb3JtQ29udGFpbmVyKTtcbn1cblxuZXhwb3J0IHsgaGFuZGxlTmV3UHJvamVjdENhbmNlbEJ1dHRvbiB9OyIsImZ1bmN0aW9uIGFkZFNjcmlwdFRvSGVhZChzcmMsIGF0dHJpYnV0ZXMgPSB7fSkge1xuICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gIHNjcmlwdC5zZXRBdHRyaWJ1dGUoJ3NyYycsIHNyYyk7XG4gIHNjcmlwdC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9qYXZhc2NyaXB0Jyk7XG5cbiAgZm9yIChsZXQgYXR0cmlidXRlIGluIGF0dHJpYnV0ZXMpIHtcbiAgICBzY3JpcHQuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZSwgYXR0cmlidXRlc1thdHRyaWJ1dGVdKTtcbiAgfVxuXG4gIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbn1cblxuZXhwb3J0IHsgYWRkU2NyaXB0VG9IZWFkIH07IiwiLy8gKiBEZXBlbmRlbmNpZXM6IGh0bWwtc2NyaXB0LWluamVjdGlvbi5qc1xuXG4vLyAqIERlc2NyaXB0aW9uOiBDcmVhdGVzIGEgdGhlbWUgdG9nZ2xlIGJ1dHRvbi5cbi8vID8gQHJldHVybiB7SFRNTEVsZW1lbnR9IHRoZW1lVG9nZ2xlQ29udGFpbmVyXG5cbi8vICogQGV4YW1wbGVcbi8vID8gY29uc3QgdGhlbWVUb2dnbGVDb250YWluZXIgPSBjcmVhdGVUaGVtZVRvZ2dsZUJ1dHRvbigpO1xuLy8gPyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoZW1lVG9nZ2xlQ29udGFpbmVyKTtcblxuaW1wb3J0IHsgYWRkU2NyaXB0VG9IZWFkIH0gZnJvbSBcIi4uLy4uL3V0aWxpdGllcy9odG1sLXNjcmlwdC1pbmplY3Rpb25cIjtcbmltcG9ydCAnLi90aGVtZS10b2dnbGUuc2Nzcyc7XG5cbmNvbnN0IGljb25TY3JpcHRTb3VyY2UgPSAnaHR0cHM6Ly9raXQuZm9udGF3ZXNvbWUuY29tLzI0MTc2YWI5NzMuanMnO1xuY29uc3QgYXR0cmlidXRlcyA9IHtcbiAgY3Jvc3NvcmlnaW46ICdhbm9ueW1vdXMnLFxufVxuXG5hZGRTY3JpcHRUb0hlYWQoaWNvblNjcmlwdFNvdXJjZSwgYXR0cmlidXRlcyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZVRoZW1lVG9nZ2xlQnV0dG9uKCkge1xuICBjb25zdCB0aGVtZVRvZ2dsZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0aGVtZVRvZ2dsZUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3RoZW1lLXRvZ2dsZS1jb250YWluZXInKTtcblxuICBjb25zdCB0aGVtZVRvZ2dsZUNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgdGhlbWVUb2dnbGVDaGVja2JveC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnY2hlY2tib3gnKTtcbiAgdGhlbWVUb2dnbGVDaGVja2JveC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3RoZW1lLXRvZ2dsZS1jaGVja2JveCcpO1xuXG4gIGNvbnN0IHRoZW1lVG9nZ2xlTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICB0aGVtZVRvZ2dsZUxhYmVsLnNldEF0dHJpYnV0ZSgnaWQnLCAndGhlbWUtdG9nZ2xlLWxhYmVsJyk7XG4gIHRoZW1lVG9nZ2xlTGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCAndGhlbWUtdG9nZ2xlLWNoZWNrYm94Jyk7XG5cbiAgY29uc3Qgc3VuSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKTtcbiAgc3VuSWNvbi5jbGFzc0xpc3QuYWRkKCdmYS1zb2xpZCcsICdmYS1zdW4nKTtcbiAgc3VuSWNvbi5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3N1bicpO1xuXG4gIGNvbnN0IG1vb25JY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xuICBtb29uSWNvbi5jbGFzc0xpc3QuYWRkKCdmYS1zb2xpZCcsICdmYS1tb29uJyk7XG4gIG1vb25JY29uLnNldEF0dHJpYnV0ZSgnaWQnLCAnbW9vbicpO1xuXG4gIHRoZW1lVG9nZ2xlTGFiZWwuYXBwZW5kQ2hpbGQoc3VuSWNvbik7XG4gIHRoZW1lVG9nZ2xlTGFiZWwuYXBwZW5kQ2hpbGQobW9vbkljb24pO1xuXG4gIHRoZW1lVG9nZ2xlQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoZW1lVG9nZ2xlQ2hlY2tib3gpO1xuICB0aGVtZVRvZ2dsZUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGVtZVRvZ2dsZUxhYmVsKTtcblxuICByZXR1cm4gdGhlbWVUb2dnbGVDb250YWluZXI7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVRoZW1lVG9nZ2xlQnV0dG9uIH07IiwiZXhwb3J0IGNvbnN0IHByb2plY3RBcnJheSA9IFtdO1xuXG5cblxuLy8gbGV0IGN1cnJlbnRQcm9qZWN0ID0gbnVsbDtcblxuLy8gVE9ETzogcHJvamVjdHMgYW5kIHRhc2tzIHdpbGwgYmUgc3RvcmVkIGhlcmUuIGRldGVybWluZSBob3cgaSB3YW50IHRoZSBvYmplY3RzXG4vLyA/IHBhc3NlZCB0byB0aGlzIGZpbGUuIHdpbGwgaXQgYmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gb2JqZWN0PyB3aWxsIGl0IGJlXG4vLyA/IGEgY2xhc3MgdGhhdCBpIGluc3RhbnRpYXRlPyB3aWxsIGl0IGJlIGEgY2xhc3MgdGhhdCBpIGV4dGVuZD9cblxuIiwiaW1wb3J0IHsgcHJvamVjdEFycmF5IH0gZnJvbSBcIi4vZGF0YVwiO1xuaW1wb3J0IHsgcHJvamVjdEZhY3RvcnkgfSBmcm9tIFwiLi9sb2dpY1wiO1xuXG4vLyAqIFVUSUxJVElFU1xuaW1wb3J0IHsgY2hlY2tUYXJnZXRFbGVtZW50RXhpc3RlbmNlIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9jaGVjay10YXJnZXQtZWxlbWVudC1leGlzdGVuY2VcIjtcbmltcG9ydCB7IGV2ZW50cyB9IGZyb20gXCIuLi91dGlsaXRpZXMvcHVic3ViXCI7XG5pbXBvcnQgeyBjcmVhdGVQcm9qZWN0SXRlbSB9IGZyb20gXCIuL2NyZWF0ZS1wcm9qZWN0LWl0ZW1cIjtcblxuZnVuY3Rpb24gdXBkYXRlUHJvamVjdExpc3QocHJvamVjdEFycmF5LCBwcm9qZWN0TGlzdCkge1xuICBjb25zdCByZXZlcnNlZFByb2plY3RBcnJheSA9IHByb2plY3RBcnJheS5zbGljZSgpLnJldmVyc2UoKTtcbiAgLy8gPyB0byBwdXQgdGhlIG1vc3QgcmVjZW50bHkgYWRkZWQgcHJvamVjdCBhdCB0aGUgdG9wIG9mIHRoZSBsaXN0XG4gIC8vICogc2xpY2UoKSBpcyB1c2VkIHRvIGNyZWF0ZSBhIGNvcHkgb2YgdGhlIGFycmF5XG4gIC8vICogbm90IGVudGVyaW5nIGEgc3RhcnQgYW5kIGVuZCBpbmRleCB3aWxsIHJldHVybiBhIGNvcHkgb2YgdGhlIGVudGlyZSBhcnJheVxuICAvLyAqIHJldmVyc2UoKSBpcyB1c2VkIHRvIHJldmVyc2UgdGhlIG9yZGVyIG9mIHRoZSBhcnJheVxuXG4gIHdoaWxlIChwcm9qZWN0TGlzdC5maXJzdENoaWxkKSB7XG4gICAgcHJvamVjdExpc3QucmVtb3ZlQ2hpbGQocHJvamVjdExpc3QuZmlyc3RDaGlsZCk7XG4gIH1cblxuICByZXZlcnNlZFByb2plY3RBcnJheS5mb3JFYWNoKChwcm9qZWN0KSA9PiB7XG4gICAgcHJvamVjdExpc3QuYXBwZW5kQ2hpbGQoY3JlYXRlUHJvamVjdEl0ZW0ocHJvamVjdC5nZXROYW1lKCkpKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hBZGRQcm9qZWN0TGlzdGVuZXIodGFyZ2V0RWxlbWVudCkge1xuICBldmVudHMub24oJ2FkZFByb2plY3QnLCAoKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdE5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcm9qZWN0LW5hbWUtaW5wdXQnKTtcbiAgICBjb25zdCBwcm9qZWN0TmFtZSA9IHByb2plY3ROYW1lSW5wdXQudmFsdWUudHJpbSgpO1xuICAgIGNvbnN0IHByb2plY3RMaXN0ID0gdGFyZ2V0RWxlbWVudDtcblxuICAgIGlmICghcHJvamVjdE5hbWUpIHJldHVybiBhbGVydCgnRW50ZXIgUHJvamVjdCBOYW1lJyk7XG5cbiAgICBjb25zdCBuZXdQcm9qZWN0ID0gcHJvamVjdEZhY3RvcnkocHJvamVjdE5hbWUpO1xuXG4gICAgcHJvamVjdEFycmF5LnB1c2gobmV3UHJvamVjdCk7XG5cbiAgICB1cGRhdGVQcm9qZWN0TGlzdChwcm9qZWN0QXJyYXksIHByb2plY3RMaXN0KTtcblxuICAgIHByb2plY3ROYW1lSW5wdXQudmFsdWUgPSAnJztcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGVtaXRJbml0aWFsaXplUHJvamVjdCgpIHtcbiAgZXZlbnRzLmVtaXQoJ2FkZFByb2plY3QnKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTmV3UHJvamVjdEFkZEJ1dHRvbigpIHtcbiAgY29uc3QgcHJvamVjdEFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGQtcHJvamVjdC1idXR0b24nKTtcbiAgcHJvamVjdEFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGVtaXRJbml0aWFsaXplUHJvamVjdCk7XG5cbiAgY29uc3QgcHJvamVjdExpc3QgPSBjaGVja1RhcmdldEVsZW1lbnRFeGlzdGVuY2UoJyNwcm9qZWN0LW5hdi1saXN0Jyk7XG4gIHB1Ymxpc2hBZGRQcm9qZWN0TGlzdGVuZXIocHJvamVjdExpc3QpO1xufVxuXG5leHBvcnQgeyBoYW5kbGVOZXdQcm9qZWN0QWRkQnV0dG9uIH07IiwiZnVuY3Rpb24gcHJvamVjdEZhY3RvcnkobmFtZSkge1xuICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCduYW1lIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgfVxuXG4gIGxldCBzdGF0ZSA9IHtcbiAgICBuYW1lOiBuYW1lLFxuICAgIHRhc2tzOiBbXSxcbiAgfVxuICByZXR1cm4ge1xuICAgIGFkZFRhc2s6IGZ1bmN0aW9uICh0YXNrKSB7XG4gICAgICB0YXNrLnNldFByb2plY3QodGhpcyk7XG4gICAgICBzdGF0ZS50YXNrcy5wdXNoKHRhc2spO1xuICAgIH0sXG4gICAgZ2V0VGFza3M6ICgpID0+IHtcbiAgICAgIHJldHVybiBzdGF0ZS50YXNrcztcbiAgICB9LFxuICAgIGdldE5hbWU6ICgpID0+IHtcbiAgICAgIHJldHVybiBzdGF0ZS5uYW1lO1xuICAgIH0sXG4gICAgc2V0TmFtZTogKG5hbWUpID0+IHtcbiAgICAgIHN0YXRlLm5hbWUgPSBuYW1lO1xuICAgIH0sXG4gIH1cbn1cblxuZnVuY3Rpb24gdGFza0ZhY3RvcnkodGl0bGUsIGRldGFpbHMsIGR1ZURhdGUsIHByaW9yaXR5KSB7XG4gIGlmIChcbiAgICB0eXBlb2YgdGl0bGUgIT09ICdzdHJpbmcnIHx8XG4gICAgdHlwZW9mIGRldGFpbHMgIT09ICdzdHJpbmcnIHx8XG4gICAgdHlwZW9mIGR1ZURhdGUgIT09ICdzdHJpbmcnIHx8XG4gICAgdHlwZW9mIHByaW9yaXR5ICE9PSAnc3RyaW5nJ1xuICApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAnVGl0bGUsIGRldGFpbHMsIGR1ZURhdGUsIGFuZCBwcmlvcml0eSBtdXN0IGFsbCBiZSBzdHJpbmdzJ1xuICAgICk7XG4gIH1cblxuICBsZXQgc3RhdGUgPSB7XG4gICAgdGl0bGU6IHRpdGxlLFxuICAgIGRldGFpbHM6IGRldGFpbHMsXG4gICAgZHVlRGF0ZTogZHVlRGF0ZSxcbiAgICBwcmlvcml0eTogcHJpb3JpdHksXG4gICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICBwcm9qZWN0OiBudWxsLFxuICB9XG4gIHJldHVybiB7XG4gICAgZ2V0VGl0bGU6ICgpID0+IHtcbiAgICAgIHJldHVybiBzdGF0ZS50aXRsZTtcbiAgICB9LFxuICAgIHNldFRpdGxlOiAodGl0bGUpID0+IHtcbiAgICAgIHN0YXRlLnRpdGxlID0gdGl0bGU7XG4gICAgfSxcbiAgICBnZXREZXRhaWxzOiAoKSA9PiB7XG4gICAgICByZXR1cm4gc3RhdGUuZGV0YWlscztcbiAgICB9LFxuICAgIHNldERldGFpbHM6IChkZXRhaWxzKSA9PiB7XG4gICAgICBzdGF0ZS5kZXRhaWxzID0gZGV0YWlscztcbiAgICB9LFxuICAgIGdldER1ZURhdGU6ICgpID0+IHtcbiAgICAgIHJldHVybiBzdGF0ZS5kdWVEYXRlO1xuICAgIH0sXG4gICAgc2V0RHVlRGF0ZTogKGR1ZURhdGUpID0+IHtcbiAgICAgIHN0YXRlLmR1ZURhdGUgPSBkdWVEYXRlO1xuICAgIH0sXG4gICAgZ2V0UHJpb3JpdHk6ICgpID0+IHtcbiAgICAgIHJldHVybiBzdGF0ZS5wcmlvcml0eTtcbiAgICB9LFxuICAgIHNldFByaW9yaXR5OiAocHJpb3JpdHkpID0+IHtcbiAgICAgIHN0YXRlLnByaW9yaXR5ID0gcHJpb3JpdHk7XG4gICAgfSxcbiAgICBnZXRDb21wbGV0ZWQ6ICgpID0+IHtcbiAgICAgIHJldHVybiBzdGF0ZS5jb21wbGV0ZWQ7XG4gICAgfSxcbiAgICBzZXRDb21wbGV0ZWQ6IChjb21wbGV0ZWQpID0+IHtcbiAgICAgIHN0YXRlLmNvbXBsZXRlZCA9IGNvbXBsZXRlZDtcbiAgICB9LFxuICAgIHNldFByb2plY3Q6IGZ1bmN0aW9uIChwcm9qZWN0KSB7XG4gICAgICBzdGF0ZS5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICB9LFxuICAgIGdldFByb2plY3Q6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzdGF0ZS5wcm9qZWN0O1xuICAgIH0sXG4gIH07XG59XG5cbi8vIGNvbnN0IHByb2plY3QxID0gcHJvamVjdEZhY3RvcnkoJ3Byb2plY3QxJyk7XG4vLyBjb25zdCBwcm9qZWN0MiA9IHByb2plY3RGYWN0b3J5KCdwcm9qZWN0MicpO1xuXG4vLyBjb25zdCB0YXNrMSA9IHRhc2tGYWN0b3J5KCd0YXNrMScsICdkZXRhaWxzMScsICdkdWVEYXRlMScsICdwcmlvcml0eTEnKTtcbi8vIGNvbnN0IHRhc2syID0gdGFza0ZhY3RvcnkoJ3Rhc2syJywgJ2RldGFpbHMyJywgJ2R1ZURhdGUyJywgJ3ByaW9yaXR5MicpO1xuLy8gY29uc3QgdGFzazMgPSB0YXNrRmFjdG9yeSgndGFzazMnLCAnZGV0YWlsczMnLCAnZHVlRGF0ZTMnLCAncHJpb3JpdHkzJyk7XG5cbi8vIHByb2plY3QxLmFkZFRhc2sodGFzazEpO1xuLy8gcHJvamVjdDEuYWRkVGFzayh0YXNrMik7XG4vLyBwcm9qZWN0Mi5hZGRUYXNrKHRhc2szKTtcblxuLy8gY29uc29sZS5sb2cocHJvamVjdDEuZ2V0VGl0bGUoKSk7XG4vLyBjb25zb2xlLmxvZyhwcm9qZWN0Mi5nZXRUaXRsZSgpKTtcblxuLy8gbGV0IHByb2plY3RPbmVUYXNrcyA9IFtdXG4vLyBmb3IgKGxldCBpID0gMDsgaSA8IHByb2plY3QxLmdldFRhc2tzKCkubGVuZ3RoOyBpKyspIHtcbi8vICAgcHJvamVjdE9uZVRhc2tzLnB1c2gocHJvamVjdDEuZ2V0VGFza3MoKVtpXSk7XG4vLyB9XG4vLyBjb25zb2xlLmxvZyhwcm9qZWN0T25lVGFza3MpO1xuXG4vLyAvLyBjb25zb2xlLmxvZyhwcm9qZWN0Mi5nZXRUYXNrcygpKTtcblxuZXhwb3J0IHsgcHJvamVjdEZhY3RvcnksIHRhc2tGYWN0b3J5IH07IiwiaW1wb3J0IHsgY3JlYXRlTGlzdEljb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9saXN0SWNvbi9saXN0SWNvblwiO1xuXG5mdW5jdGlvbiBjcmVhdGVQcm9qZWN0SXRlbShwcm9qZWN0TmFtZSkge1xuICBjb25zdCBwcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIHByb2plY3RCdXR0b24uY2xhc3NMaXN0LmFkZCgnbmF2LWxpbmsnKTtcbiAgcHJvamVjdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gIHByb2plY3RCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYFByb2plY3QgJHtwcm9qZWN0TmFtZX1gKTtcbiAgcHJvamVjdEJ1dHRvbi50ZXh0Q29udGVudCA9IHByb2plY3ROYW1lO1xuXG4gIGNvbnN0IGxpc3RJY29uID0gY3JlYXRlTGlzdEljb24oKTtcblxuICBjb25zdCBwcm9qZWN0TGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICBwcm9qZWN0TGkuY2xhc3NMaXN0LmFkZCgncHJvamVjdC1saScpO1xuICBwcm9qZWN0TGkuY2xhc3NMaXN0LmFkZCgnbmF2LWxpJyk7XG4gIHByb2plY3RCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYFByb2plY3QgJHtwcm9qZWN0TmFtZX1gKTtcbiAgcHJvamVjdExpLmFwcGVuZENoaWxkKGxpc3RJY29uKTtcbiAgcHJvamVjdExpLmFwcGVuZENoaWxkKHByb2plY3RCdXR0b24pO1xuXG4gIHJldHVybiBwcm9qZWN0TGk7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVByb2plY3RJdGVtIH07IiwiaW1wb3J0ICcuLi9jc3Mvc3R5bGVzLmNzcyc7XG5pbXBvcnQgJy4uL2NvbXBvbmVudHMvemlnLXphZy1uYXYvemlnLXphZy1uYXYuc2Nzcyc7XG5cbi8vICogTEFZT1VUXG5pbXBvcnQgeyBjcmVhdGVaaWdaYWdOYXYgfSBmcm9tICcuLi9jb21wb25lbnRzL3ppZy16YWctbmF2L3ppcC16YWctbmF2LW1hcmt1cC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVIZWFkZXIgfSBmcm9tICcuL2hlYWRlci1tYXJrdXAuanMnO1xuaW1wb3J0IHsgY3JlYXRlQWRkUHJvamVjdENvbnRhaW5lciB9IGZyb20gJy4vY3JlYXRlLWFkZC1wcm9qZWN0LWZvcm0uanMnO1xuaW1wb3J0IHsgY3JlYXRlTWFpbiB9IGZyb20gJy4vbWFpbi1tYXJrdXAuanMnO1xuXG4vLyAqIEhBTkRMRVIgRlVOQ1RJT05TXG5pbXBvcnQgeyBoYW5kbGVOZXdQcm9qZWN0QnV0dG9uIH0gZnJvbSAnLi4vanMvaGFuZGxlTmV3UHJvamVjdEJ1dHRvbi5qcyc7XG5cbi8vICogVVRJTElUSUVTXG5pbXBvcnQgeyBjcmVhdGVTY3JvbGxBbmltYXRpb24gfSBmcm9tICcuLi91dGlsaXRpZXMvc2Nyb2xsLWVsZW1lbnQtY29udGVudC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVUYXNrSXRlbSB9IGZyb20gJy4vY3JlYXRlLXRhc2staXRlbS5qcyc7XG5pbXBvcnQgeyBjcmVhdGVQcm9qZWN0SXRlbSB9IGZyb20gJy4vY3JlYXRlLXByb2plY3QtaXRlbS5qcyc7XG5cbmNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpO1xuXG4vLyAqIENSRUFURSBoZWFkZXJcbmNvbnRlbnQuYXBwZW5kQ2hpbGQoY3JlYXRlSGVhZGVyKCkpOyAgXG5cbi8vICogQ1JFQVRFIG5hdlxuLyogXG4gIOKUjOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUkFxuICDilIIgLy8gUEFSQU06IGNyZWF0ZVppZ1phZ05hdiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gIOKUgiAvLyA/IDEuIG9iamVjdE9mTGlzdHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAg4pSCIC8vID8gMi4gaW5pdGlhbFBhZ2UgKHVzZWQgdG8gc2V0IHRoZSBhcmlhIC0gY3VycmVudCBhdHRyaWJ1dGUpICAgICAgICAgIOKUglxuICDilIIgLy8gPyAzLiBuYXZUeXBlIChhbmNob3IgZm9yICdhJyB0YWdzIC8gYnV0dG9uIGZvciAnYnV0dG9uIHRhZ3MpICAgICAgICAg4pSCXG4gIOKUgiAvLyA/IDQuIGlkIChzZXRzIG5hdmlnYXRpb25zIGlkIGZvciBhcmlhIGluIGNvbmp1bmN0aW9uIHdpdGggYSBuYXYgICAgICDilIJcbiAg4pSCICAgLy8gPyB0b2dnbGUgYnV0dG9uKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICDilIIgLy8gPyA1LiBzcGVjaWFsTmF2TGlua0FyciBpcyBhbiBhcnJheSBvZiBwYWdlIG5hbWVzIHdpdGggdGhhdCB3aWxsICAgICAg4pSCXG4gIOKUgiAgIC8vID8gYmUgdXNlZCB0byBjcmVhdGUgYSBzcGVjaWFsIG5hdiBsaW5rcyB2aWEgYSB1bmlxdWUgY3NzIGNsYXNzICAgICDilIJcbiAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYXG4gKi9cbmNvbnN0IGxpc3RPYmplY3RzID0ge1xuICBIb21lOiB7XG4gICAgbGlzdEVsZW1lbnRzOiBbXG4gICAgICBbJ0FsbCBUYXNrcycsICcjJ10sXG4gICAgICBbJ1RvZGF5JywgJyMnXSxcbiAgICAgIFsnTmV4dCA3IERheXMnLCAnIyddLFxuICAgICAgWydJbXBvcnRhbnQnLCAnIyddLFxuICAgIF0sXG4gIH0sXG4gIFByb2plY3RzOiB7XG4gICAgbGlzdEVsZW1lbnRzOiBbXSxcbiAgfSxcbn07XG5jb250ZW50LmFwcGVuZENoaWxkKFxuICBjcmVhdGVaaWdaYWdOYXYobGlzdE9iamVjdHMsICdBbGwgVGFza3MnLCAnYnV0dG9uJywgJ25hdi1wcmltYXJ5LWFyaWEnKVxuKTtcblxuLy8gKiBVUERBVEUgemlnWmFnTmF2IExpc3QgRWxlbWVudCB0byBjcmVhdGUgQWRkIFByb2plY3QgQnV0dG9uIGFuZCBjbGFzc2lmeSBQcm9qZWN0IExpc3RcbmNvbnN0IHByb2plY3ROYXZMaXN0Q29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5hdi1saXN0LWNvbnRhaW5lcjpudGgtY2hpbGQoMiknKTtcbnByb2plY3ROYXZMaXN0Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCAncHJvamVjdC1uYXYtbGlzdC1jb250YWluZXInKTtcbnByb2plY3ROYXZMaXN0Q29udGFpbmVyLmluc2VydEJlZm9yZShcbiAgY3JlYXRlQWRkUHJvamVjdENvbnRhaW5lcigpLFxuICBwcm9qZWN0TmF2TGlzdENvbnRhaW5lci5sYXN0Q2hpbGRcbik7XG5jb25zdCBwcm9qZWN0TmF2TGlzdCA9IHByb2plY3ROYXZMaXN0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5uYXYtdWwnKTtcbnByb2plY3ROYXZMaXN0LnNldEF0dHJpYnV0ZSgnaWQnLCAncHJvamVjdC1uYXYtbGlzdCcpO1xuXG4vLyAhXG4vLyAhXG4vLyAhXG5cbmNvbnRlbnQuYXBwZW5kQ2hpbGQoY3JlYXRlTWFpbigpKTtcblxuLy8gKiBVUERBVEUgdGFzayBkZXRhaWxzIHNjcm9sbCBhbmltYXRpb25cbmNvbnN0IHRhc2tEZXRhaWxDb250YWluZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhc2staXRlbS1kZXRhaWxzJyk7XG5cbnRhc2tEZXRhaWxDb250YWluZXJzLmZvckVhY2goKGNvbnRhaW5lcikgPT4ge1xuICBjcmVhdGVTY3JvbGxBbmltYXRpb24oY29udGFpbmVyLCAnYmFja3dhcmQnLCAwLjUpO1xufSk7XG5cbi8vICogSEFORExFUiBDQUxMU1xuaGFuZGxlTmV3UHJvamVjdEJ1dHRvbigpO1xuIiwiaW1wb3J0IHByaW9yaXR5TG9nbyBmcm9tICcuLi9hc3NldHMvaW1hZ2VzL3ByaW9yaXR5LWxvZ28ud2VicCc7XG5cbmltcG9ydCB7IGNyZWF0ZVRoZW1lVG9nZ2xlQnV0dG9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy90aGVtZS10b2dnbGUvdGhlbWUtdG9nZ2xlLm1hcmt1cCc7XG5pbXBvcnQgeyBjcmVhdGVOYXZUb2dnbGVCdXR0b24gfSBmcm9tICcuLi9jb21wb25lbnRzL25hdi10b2dnbGUvbmF2LXRvZ2dsZS1tYXJrdXAnO1xuXG5mdW5jdGlvbiBjcmVhdGVIZWFkZXIoKSB7XG4gIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2hlYWRlcicpO1xuXG4gIGNvbnN0IGhlYWRlckxlZnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgaGVhZGVyTGVmdC5jbGFzc0xpc3QuYWRkKCdoZWFkZXItbGVmdCcpO1xuXG4gIGNvbnN0IGhlYWRlckxvZ28gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgaGVhZGVyTG9nby5jbGFzc0xpc3QuYWRkKCdoZWFkZXItbG9nbycpO1xuICBoZWFkZXJMb2dvLnNldEF0dHJpYnV0ZSgnc3JjJywgcHJpb3JpdHlMb2dvKTtcbiAgaGVhZGVyTG9nby5zZXRBdHRyaWJ1dGUoJ2FsdCcsICdQcmlvcml0eSBMb2dvJyk7XG5cbiAgY29uc3QgaGVhZGVyVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xuICBoZWFkZXJUaXRsZS5jbGFzc0xpc3QuYWRkKCdoZWFkZXItdGl0bGUnKTtcbiAgaGVhZGVyVGl0bGUudGV4dENvbnRlbnQgPSAnPHBye2lvfXJpdHk+JztcblxuICBoZWFkZXJMZWZ0LmFwcGVuZENoaWxkKGhlYWRlckxvZ28pO1xuICBoZWFkZXJMZWZ0LmFwcGVuZENoaWxkKGhlYWRlclRpdGxlKTtcblxuICBjb25zdCBoZWFkZXJSaWdodCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBoZWFkZXJSaWdodC5jbGFzc0xpc3QuYWRkKCdoZWFkZXItcmlnaHQnKTtcblxuICBoZWFkZXJSaWdodC5hcHBlbmRDaGlsZChjcmVhdGVUaGVtZVRvZ2dsZUJ1dHRvbigpKTtcbiAgaGVhZGVyUmlnaHQuYXBwZW5kQ2hpbGQoY3JlYXRlTmF2VG9nZ2xlQnV0dG9uKCduYXYtcHJpbWFyeS1hcmlhJykpO1xuXG4gIGhlYWRlci5hcHBlbmRDaGlsZChoZWFkZXJMZWZ0KTtcbiAgaGVhZGVyLmFwcGVuZENoaWxkKGhlYWRlclJpZ2h0KTtcblxuICBjb250ZW50LmFwcGVuZENoaWxkKGhlYWRlcik7XG5cbiAgcmV0dXJuIGhlYWRlcjtcbn1cblxuZXhwb3J0IHsgY3JlYXRlSGVhZGVyIH07XG4iLCJpbXBvcnQgJy4vbmF2LXRvZ2dsZS5zY3NzJztcbmltcG9ydCB7IHRvZ2dsZU5hdkJ1dHRvbiB9IGZyb20gJy4vbmF2LXRvZ2dsZSc7XG5cbmZ1bmN0aW9uIGNyZWF0ZU5hdlRvZ2dsZUJ1dHRvbihhcmlhQ29udHJvbHNJRCkge1xuICBjb25zdCBuYXZUb2dnbGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgbmF2VG9nZ2xlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ25hdi10b2dnbGUtYnV0dG9uJyk7XG4gIG5hdlRvZ2dsZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnT3BlbiBOYXZpZ2F0aW9uIE1lbnUnKTtcbiAgbmF2VG9nZ2xlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIGZhbHNlKTtcbiAgbmF2VG9nZ2xlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycsIGFyaWFDb250cm9sc0lEKTtcblxuICBjb25zdCBuYXZUb2dnbGVCYXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG5hdlRvZ2dsZUJhcnMuY2xhc3NMaXN0LmFkZCgnbmF2LXRvZ2dsZS1iYXJzJyk7XG5cbiAgbmF2VG9nZ2xlQnV0dG9uLmFwcGVuZENoaWxkKG5hdlRvZ2dsZUJhcnMpO1xuXG4gIG5hdlRvZ2dsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRvZ2dsZU5hdkJ1dHRvbik7XG5cbiAgcmV0dXJuIG5hdlRvZ2dsZUJ1dHRvbjtcbn1cblxuZXhwb3J0IHsgY3JlYXRlTmF2VG9nZ2xlQnV0dG9uIH07IiwiaW1wb3J0ICcuL3ppZy16YWctbmF2LnNjc3MnO1xuaW1wb3J0IHsgYWN0aXZhdGVMaXN0ZW5lcnMgfSBmcm9tICcuL3ppZy16YWctbmF2LmpzJztcblxuLy8gKiBpbml0aWFsUGFnZSBpcyBhIHN0cmluZyB0aGF0IHdpbGwgYmUgdXNlZCB0byBzZXQgdGhlIGFyaWEtY3VycmVudCBhdHRyaWJ1dGUgKHVzZSB0aGUgaW5kZXggb2YgdGhlIHBhZ2UgbmFtZSlcbi8vICogYW5jaG9yT3JCdXR0b24gaXMgYSBzdHJpbmcgdGhhdCB3aWxsIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIHRoZSBuYXYgbGlua3MgYXJlIGJ1dHRvbnMgb3IgYW5jaG9ycyBvcHRpb25zIGFyZSAnYnV0dG9uJyBvciAnYSdcbi8vICogaWQgaXMgYSBzdHJpbmcgdGhhdCB3aWxsIGJlIHVzZWQgdG8gc2V0IHRoZSBpZCBhdHRyaWJ1dGUgb2YgdGhlIG5hdidzIG5lc3RlZCBVTCBlbGVtZW50XG5cbmZ1bmN0aW9uIGNyZWF0ZVppZ1phZ05hdihcbiAgb2JqZWN0T2ZMaXN0cyxcbiAgaW5pdGlhbFBhZ2UsXG4gIGFuY2hvck9yQnV0dG9uLFxuICBhcmlhQ29udHJvbHNJRCxcbiAgc3BlY2lhbE5hdkxpc3RJdGVtQXJyYXlcbikge1xuICBjb25zdCB6aWdaYWdOYXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCduYXYnKTtcbiAgemlnWmFnTmF2LmNsYXNzTGlzdC5hZGQoJ3ppZy16YWctbmF2Jyk7XG4gIHppZ1phZ05hdi5zZXRBdHRyaWJ1dGUoJ2lkJywgYXJpYUNvbnRyb2xzSUQpO1xuICB6aWdaYWdOYXYuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ01haW4gTmF2aWdhdGlvbicpO1xuICB6aWdaYWdOYXYuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsIHRydWUpO1xuICB6aWdaYWdOYXYuc2V0QXR0cmlidXRlKCdkYXRhLXZpc2liaWxpdHknLCBmYWxzZSk7XG5cbiAgZm9yIChjb25zdCBsaXN0IGluIG9iamVjdE9mTGlzdHMpIHtcbiAgICBjb25zdCBsaXN0Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbGlzdENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCduYXYtbGlzdC1jb250YWluZXInKTtcblxuICAgIGNvbnN0IGxpc3RIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuICAgIGxpc3RIZWFkZXIuY2xhc3NMaXN0LmFkZCgnbmF2LWxpc3QtaGVhZGVyJyk7XG4gICAgbGlzdEhlYWRlci50ZXh0Q29udGVudCA9IGxpc3Q7XG4gICAgemlnWmFnTmF2LmFwcGVuZENoaWxkKGxpc3RIZWFkZXIpO1xuXG4gICAgY29uc3QgbGlzdFVMID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgICBsaXN0VUwuY2xhc3NMaXN0LmFkZCgnbmF2LXVsJyk7XG5cbiAgICBjb25zdCBncm91cGVkTGlzdEVsZW1lbnRzID0gb2JqZWN0T2ZMaXN0c1tsaXN0XS5saXN0RWxlbWVudHM7XG5cbiAgICBjb25zdCBsaXN0RnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgZ3JvdXBlZExpc3RFbGVtZW50cy5mb3JFYWNoKChwYWdlTmFtZUFuZEhyZWYsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBwYWdlTmFtZSA9IHBhZ2VOYW1lQW5kSHJlZlswXTtcbiAgICAgIGNvbnN0IHBhZ2VIcmVmID0gcGFnZU5hbWVBbmRIcmVmWzFdO1xuXG4gICAgICBjb25zdCBuYXZMaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcbiAgICAgICAgYW5jaG9yT3JCdXR0b24gPT09ICdidXR0b24nXG4gICAgICAgICAgPyAnYnV0dG9uJ1xuICAgICAgICAgIDogJ2EnXG4gICAgICAgICAgPyAnYSdcbiAgICAgICAgICA6IGNvbnNvbGUubG9nKCd6aWdaYWdOYXYgb25seSBhY2NlcHRzIFwiYnV0dG9uXCIgb3IgXCJhXCIgYXMgYXJndW1lbnRzJylcbiAgICAgICk7XG4gICAgICBuYXZMaW5rLmNsYXNzTGlzdC5hZGQoJ25hdi1saW5rJyk7XG4gICAgICBpZiAoYW5jaG9yT3JCdXR0b24gPT09ICdhJykge1xuICAgICAgICBuYXZMaW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsIHBhZ2VIcmVmKTsgLy8gISBVUERBVEUgVEhJUyBUTyBVU0UgVEhFIFBBR0UgTkFNRVxuICAgICAgfVxuICAgICAgaWYgKHBhZ2VOYW1lID09PSBpbml0aWFsUGFnZSkge1xuICAgICAgICBuYXZMaW5rLnNldEF0dHJpYnV0ZSgnYXJpYS1jdXJyZW50JywgJ3BhZ2UnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmF2TEkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgbmF2TEkuY2xhc3NMaXN0LmFkZCgnbmF2LWxpJyk7XG4gICAgICBpZiAoc3BlY2lhbE5hdkxpc3RJdGVtQXJyYXkpIHtcbiAgICAgICAgc3BlY2lhbE5hdkxpc3RJdGVtQXJyYXkuZm9yRWFjaCgoc3BlY2lhbE5hdkxpbmspID0+IHtcbiAgICAgICAgICBpZiAocGFnZU5hbWUgPT09IHNwZWNpYWxOYXZMaW5rKSB7XG4gICAgICAgICAgICBuYXZMSS5jbGFzc0xpc3QuYWRkKCdzcGVjaWFsLW5hdi1saScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIG5hdkxpbmsudGV4dENvbnRlbnQgPSBwYWdlTmFtZTtcblxuICAgICAgbmF2TEkuYXBwZW5kQ2hpbGQobmF2TGluayk7XG4gICAgICBsaXN0RnJhZ21lbnQuYXBwZW5kQ2hpbGQobmF2TEkpO1xuICAgIH0pO1xuXG4gICAgbGlzdFVMLmFwcGVuZENoaWxkKGxpc3RGcmFnbWVudCk7XG4gICAgXG4gICAgbGlzdENvbnRhaW5lci5hcHBlbmRDaGlsZChsaXN0SGVhZGVyKTtcbiAgICBsaXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGxpc3RVTCk7XG5cbiAgICB6aWdaYWdOYXYuYXBwZW5kQ2hpbGQobGlzdENvbnRhaW5lcik7XG4gIH1cblxuICBhY3RpdmF0ZUxpc3RlbmVycygpO1xuXG4gIHJldHVybiB6aWdaYWdOYXY7XG59XG5cbmV4cG9ydCB7IGNyZWF0ZVppZ1phZ05hdiB9OyIsIi8vICogVVRJTElUSUVTXG5pbXBvcnQgeyBjaGVja1RhcmdldEVsZW1lbnRFeGlzdGVuY2UgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL2NoZWNrLXRhcmdldC1lbGVtZW50LWV4aXN0ZW5jZVwiO1xuaW1wb3J0IHsgZXZlbnRzIH0gZnJvbSBcIi4uL3V0aWxpdGllcy9wdWJzdWJcIjtcbmltcG9ydCB7IHNldEF0dHJpYnV0ZXMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL3NldC1hdHRyaWJ1dGVzXCI7XG5cbi8vICogSEFORExFUiBGVU5DVElPTlNcbmltcG9ydCB7IGhhbmRsZU5ld1Byb2plY3RDYW5jZWxCdXR0b24gfSBmcm9tIFwiLi9oYW5kbGVOZXdQcm9qZWN0Q2FuY2VsQnV0dG9uXCI7XG5pbXBvcnQgeyBoYW5kbGVOZXdQcm9qZWN0QWRkQnV0dG9uIH0gZnJvbSBcIi4vaGFuZGxlLXByb2plY3QtYWRkLWJ1dHRvblwiO1xuXG5mdW5jdGlvbiBwdWJsaXNoUHJvamVjdEJ1dHRvbkxpc3RlbmVyKHRhcmdldEVsZW1lbnQpIHtcbiAgZXZlbnRzLm9uKCd0b2dnbGVEaXNwbGF5Rm9ybUNvbnRhaW5lclZpc2liaWxpdHknLCAoKSA9PiB7XG4gICAgY29uc3QgcHJvamVjdEZvcm1Db250YWluZXJIaWRkZW4gPSB0YXJnZXRFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1oaWRkZW4nKTtcbiAgICBpZiAocHJvamVjdEZvcm1Db250YWluZXJIaWRkZW4gPT09ICd0cnVlJykge1xuICAgICAgc2V0QXR0cmlidXRlcyh0YXJnZXRFbGVtZW50LCB7XG4gICAgICAgICdkYXRhLWhpZGRlbic6ICdmYWxzZScsXG4gICAgICAgICdhcmlhLWxhYmVsJzogJ3Zpc2libGUnLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChwcm9qZWN0Rm9ybUNvbnRhaW5lckhpZGRlbiA9PT0gJ2ZhbHNlJykge1xuICAgICAgc2V0QXR0cmlidXRlcyh0YXJnZXRFbGVtZW50LCB7XG4gICAgICAgICdkYXRhLWhpZGRlbic6ICd0cnVlJyxcbiAgICAgICAgJ2FyaWEtbGFiZWwnOiAnaGlkZGVuJyxcbiAgICAgIH0pOyAgXG4gICAgfVxuICAgIGhhbmRsZU5ld1Byb2plY3RDYW5jZWxCdXR0b24oKTtcbiAgICBoYW5kbGVOZXdQcm9qZWN0QWRkQnV0dG9uKCk7IFxuICB9KTtcbn1cblxuZnVuY3Rpb24gZW1pdFB1Ymxpc2hQcm9qZWN0QnV0dG9uTGlzdGVuZXIoKSB7XG4gIGV2ZW50cy5lbWl0KCd0b2dnbGVEaXNwbGF5Rm9ybUNvbnRhaW5lclZpc2liaWxpdHknKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTmV3UHJvamVjdEJ1dHRvbigpIHtcbiAgY29uc3QgbmV3UHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXctcHJvamVjdC1idXR0b24nKTtcbiAgbmV3UHJvamVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGVtaXRQdWJsaXNoUHJvamVjdEJ1dHRvbkxpc3RlbmVyKTtcblxuICBjb25zdCBwcm9qZWN0Rm9ybUNvbnRhaW5lciA9IGNoZWNrVGFyZ2V0RWxlbWVudEV4aXN0ZW5jZSgnI3Byb2plY3QtZm9ybS1jb250YWluZXInKTtcbiAgcHVibGlzaFByb2plY3RCdXR0b25MaXN0ZW5lcihwcm9qZWN0Rm9ybUNvbnRhaW5lcik7XG59XG5cbmV4cG9ydCB7IGVtaXRQdWJsaXNoUHJvamVjdEJ1dHRvbkxpc3RlbmVyLCBoYW5kbGVOZXdQcm9qZWN0QnV0dG9uIH07XG4iLCJpbXBvcnQgeyBldmVudHMgfSBmcm9tIFwiLi4vdXRpbGl0aWVzL3B1YnN1YlwiO1xuaW1wb3J0IHsgY3JlYXRlTGlzdEljb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9saXN0SWNvbi9saXN0SWNvblwiO1xuXG5mdW5jdGlvbiBjcmVhdGVBZGRQcm9qZWN0Q29udGFpbmVyKCkge1xuICBjb25zdCBwcm9qZWN0TmFtZUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgcHJvamVjdE5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3Byb2plY3QtbmFtZS1pbnB1dCcpO1xuICBwcm9qZWN0TmFtZUlucHV0LnNldEF0dHJpYnV0ZSgndHlwZScsICd0ZXh0Jyk7XG4gIHByb2plY3ROYW1lSW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdFbnRlciBQcm9qZWN0IE5hbWUnKTtcbiAgcHJvamVjdE5hbWVJbnB1dC5zZXRBdHRyaWJ1dGUoJ21heC1sZW5ndGgnLCAyNCk7XG4gIHByb2plY3ROYW1lSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudHMuZW1pdCgnYWRkUHJvamVjdCcpO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgYWRkUHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBhZGRQcm9qZWN0QnV0dG9uLnNldEF0dHJpYnV0ZSgnaWQnLCAnYWRkLXByb2plY3QtYnV0dG9uJyk7XG4gIGFkZFByb2plY3RCdXR0b24uc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICBhZGRQcm9qZWN0QnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdBZGQgUHJvamVjdCcpO1xuICBhZGRQcm9qZWN0QnV0dG9uLnRleHRDb250ZW50ID0gJ2FkZCc7XG5cbiAgY29uc3QgY2FuY2VsQWRkUHJvamVjdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICBjYW5jZWxBZGRQcm9qZWN0QnV0dG9uLnNldEF0dHJpYnV0ZSgnaWQnLCAnY2FuY2VsLWFkZC1wcm9qZWN0LWJ1dHRvbicpO1xuICBjYW5jZWxBZGRQcm9qZWN0QnV0dG9uLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgY2FuY2VsQWRkUHJvamVjdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnQ2FuY2VsIEFkZCBQcm9qZWN0Jyk7XG4gIGNhbmNlbEFkZFByb2plY3RCdXR0b24udGV4dENvbnRlbnQgPSAnY2FuY2VsJztcblxuICBjb25zdCBwcm9qZWN0SW5wdXRDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHJvamVjdElucHV0Q29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCAncHJvamVjdC1pbnB1dC1jb250YWluZXInKTtcbiAgcHJvamVjdElucHV0Q29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUxpc3RJY29uKCkpO1xuICBwcm9qZWN0SW5wdXRDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvamVjdE5hbWVJbnB1dCk7XG5cbiAgY29uc3QgcHJvamVjdEJ1dHRvbnNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgcHJvamVjdEJ1dHRvbnNDb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICdwcm9qZWN0LWJ1dHRvbnMtY29udGFpbmVyJyk7XG4gIHByb2plY3RCdXR0b25zQ29udGFpbmVyLmFwcGVuZENoaWxkKGFkZFByb2plY3RCdXR0b24pO1xuICBwcm9qZWN0QnV0dG9uc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjYW5jZWxBZGRQcm9qZWN0QnV0dG9uKTtcblxuICBjb25zdCBwcm9qZWN0Rm9ybUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcbiAgcHJvamVjdEZvcm1Db250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsICdwcm9qZWN0LWZvcm0tY29udGFpbmVyJyk7XG4gIHByb2plY3RGb3JtQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdoaWRkZW4nKTtcbiAgcHJvamVjdEZvcm1Db250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLWhpZGRlbicsIHRydWUpO1xuXG4gIHByb2plY3RGb3JtQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3RJbnB1dENvbnRhaW5lcik7XG4gIHByb2plY3RGb3JtQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3RCdXR0b25zQ29udGFpbmVyKTtcblxuICBjb25zdCBuZXdQcm9qZWN0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIG5ld1Byb2plY3RCdXR0b24uc2V0QXR0cmlidXRlKCdpZCcsICduZXctcHJvamVjdC1idXR0b24nKTtcbiAgbmV3UHJvamVjdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gIG5ld1Byb2plY3RCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ05ldyBQcm9qZWN0Jyk7XG4gIG5ld1Byb2plY3RCdXR0b24udGV4dENvbnRlbnQgPSAnTmV3IFByb2plY3QnO1xuXG4gIGNvbnN0IGFkZFByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgYWRkUHJvamVjdENvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2FkZC1wcm9qZWN0LWNvbnRhaW5lcicpO1xuICBhZGRQcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKG5ld1Byb2plY3RCdXR0b24pO1xuICBhZGRQcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKHByb2plY3RGb3JtQ29udGFpbmVyKTtcblxuICByZXR1cm4gYWRkUHJvamVjdENvbnRhaW5lcjtcbn1cblxuZXhwb3J0IHsgY3JlYXRlQWRkUHJvamVjdENvbnRhaW5lciB9O1xuIiwiaW1wb3J0IHsgY3JlYXRlQWRkVGFza0Zvcm0gfSBmcm9tIFwiLi9jcmVhdGUtdGFzay1mb3JtXCI7XG5pbXBvcnQgeyBjcmVhdGVBZGRUYXNrQnV0dG9uIH0gZnJvbSBcIi4vY3JlYXRlLWFkZC10YXNrLWJ1dHRvblwiO1xuaW1wb3J0IHsgY3JlYXRlVGFza0l0ZW0gfSBmcm9tIFwiLi9jcmVhdGUtdGFzay1pdGVtXCI7XG4vKiBcbiAg4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQXG4gIOKUgiAvLyA/IENsYXNzZXM6ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAg4pSCIC8vICogLm1haW4tY29udGFpbmVyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICDilIIgLy8gKiAubWFpbi1jb250ZW50ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gIOKUgiAvLyAqIC5tYWluLWhlYWRpbmcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDilIJcbiAg4pSCIC8vICogLnRhc2stbGlzdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUglxuICDilIIgLy8gKiAuaW5pdGlhbC10YXNrLWl0ZW0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSCXG4gIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFxuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZU1haW4oKSB7XG4gIGNvbnN0IG1haW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdtYWluJyk7XG4gIFxuICBjb25zdCBtYWluQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG1haW5Db250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFpbi1jb250YWluZXInKTtcbiAgXG4gIGNvbnN0IG1haW5IZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcbiAgbWFpbkhlYWRpbmcuY2xhc3NMaXN0LmFkZCgnbWFpbi1oZWFkaW5nJyk7XG4gIG1haW5IZWFkaW5nLnRleHRDb250ZW50ID0gJ2FsbCB0YXNrcyc7XG4gIG1haW5Db250YWluZXIuYXBwZW5kQ2hpbGQobWFpbkhlYWRpbmcpO1xuXG4gIGNvbnN0IG1haW5Db250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG1haW5Db250ZW50LmNsYXNzTGlzdC5hZGQoJ21haW4tY29udGVudCcpO1xuXG4gIGNvbnN0IHRhc2tMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndWwnKTtcbiAgdGFza0xpc3QuY2xhc3NMaXN0LmFkZCgndGFzay1saXN0Jyk7XG4gIG1haW5Db250ZW50LmFwcGVuZENoaWxkKHRhc2tMaXN0KTtcblxuICBjb25zdCBwbGFjZWhvbGRlclRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gIHBsYWNlaG9sZGVyVGV4dC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3BsYWNlaG9sZGVyLXRleHQnKTtcbiAgcGxhY2Vob2xkZXJUZXh0LmNsYXNzTGlzdC5hZGQoJ2h2ci13b2JibGUtdmVydGljYWwnKTtcbiAgcGxhY2Vob2xkZXJUZXh0LnRleHRDb250ZW50ID0gJ1NldCB5b3VyIHByaW9yaXRpZXMgaW4gbWVudSBhYm92ZS4nO1xuXG4gIGNvbnN0IHBsYWNlaG9sZGVyQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHBsYWNlaG9sZGVyQ29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCAncGxhY2Vob2xkZXItY29udGFpbmVyJyk7XG4gIHBsYWNlaG9sZGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHBsYWNlaG9sZGVyVGV4dCk7XG5cbiAgdGFza0xpc3QuYXBwZW5kQ2hpbGQocGxhY2Vob2xkZXJDb250YWluZXIpO1xuXG4gIG1haW5Db250YWluZXIuYXBwZW5kQ2hpbGQobWFpbkNvbnRlbnQpO1xuXG4gIG1haW4uYXBwZW5kQ2hpbGQobWFpbkNvbnRhaW5lcik7XG5cbiAgcmV0dXJuIG1haW47XG59XG5cbmV4cG9ydCB7IGNyZWF0ZU1haW4gfTsiLCJcbmZ1bmN0aW9uIGNyZWF0ZVNjcm9sbEFuaW1hdGlvbihjb250YWluZXJFbGVtZW50LCBkaXJlY3Rpb24sIHNwZWVkKSB7XG4gIGxldCBlbGVtZW50TWluaW11bVdpZHRoID0gY29udGFpbmVyRWxlbWVudC5zY3JvbGxXaWR0aDtcbiAgLy8gPyBlcXVhbCB0byB0aGUgbWluaW11bSB3aWR0aCB0aGUgZWxlbWVudCByZXF1aXJlcyBpbiBvcmRlciB0byBmaXQgYWxsXG4gIC8vID8gdGhlIGNvbnRlbnQgaW4gdGhlIHZpZXdwb3J0IHdpdGhvdXQgdXNpbmcgYSBob3Jpem9udGFsIHNjcm9sbGJhciBpbiBwaXhlbHNcbiAgLy8gPyBtb3JlIGluZm86IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9FbGVtZW50L3Njcm9sbFdpZHRoXG5cbiAgbGV0IGVsZW1lbnRBY3R1YWxXaWR0aCA9IGNvbnRhaW5lckVsZW1lbnQuY2xpZW50V2lkdGhcbiAgLy8gPyB6ZXJvIGZvciBpbmxpbmUgZWxlbWVudHMgYW5kIGVsZW1lbnRzIHdpdGggbm8gY3NzLCBvdGhlcndpc2UgaXQncyB0aGUgaW5uZXJcbiAgLy8gPyB3aWR0aCBvZiBhbiBlbGVtZW50IGluIHBpeGVsc1xuICAvLyA/IG1vcmUgaW5mbzogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VsZW1lbnQvY2xpZW50V2lkdGggXG5cbiAgbGV0IG1heFNjcm9sbCA9IGVsZW1lbnRNaW5pbXVtV2lkdGggLSBlbGVtZW50QWN0dWFsV2lkdGg7XG4gIC8vID8gdGhlIG1pbWltdW0gd2lkdGggdG8gZml0IGFsbCBjb250bmV0IHZzIHRoZSBhY3R1YWwgd2lkdGggb2YgdGhlIGVsZW1lbnQgdGVsbCB1cyB0aGVcbiAgLy8gPyB0aGUgdG90YWwgc2Nyb2xsYWJsZSBkaXN0YW5jZVxuICBcbiAgbGV0IHNjcm9sbERpcmVjdGlvbiA9XG4gICAgZGlyZWN0aW9uID09PSAnZm9yd2FyZCdcbiAgICAgID8gMVxuICAgICAgOiBkaXJlY3Rpb24gPT09ICdiYWNrd2FyZCdcbiAgICAgICAgPyAtMVxuICAgICAgICA6IGNvbnNvbGUuZXJyb3IoYERpcmVjdGlvbiBwYXJhbWV0ZXIgQWNjZXB0cyBcImZvcndhcmQgb3IgXCJiYWNrd2FyZFwiIFxcbiBZb3UgZW50ZXJlZDogXCIke2RpcmVjdGlvbn1cImApO1xuXG4gIGZ1bmN0aW9uIHNjcm9sbEVsZW1lbnRDb250ZW50KHRpbWVzdGFtcCkge1xuICAgIGxldCBjdXJyZW50U2Nyb2xsUG9zaXRpb24gPSBjb250YWluZXJFbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgLy8gPyBjdXJyZW50U2Nyb2xsUG9zaXRpb24gaXMgdGhlIGN1cnJlbnQgZGlzdGFuY2UgaW4gcGl4ZWxzXG4gICAgLy8gPyB0aGF0IGFuIGVsZW1lbnRzIGNvbnRlbnQgaXMgc2Nyb2xsZWQgZnJvbSBhbiB0aGUgZWxlbWVudHNcbiAgICAvLyA/IGxlZnQgZWRnZVxuXG4gICAgbGV0IG5ld0Rpc3RhbmNlVG9DcmVhdGUgPSBzcGVlZCAqIHNjcm9sbERpcmVjdGlvbjtcbiAgICAvLyA/IG5ld0Rpc3RhbmNlVG9DcmVhdGUgY2FsY3VsYXRlcyB0aGUgbnVtYmVyIG9mIHBpeGVscyB0b1xuICAgIC8vID8gc2Nyb2xsIGluIHRoZSBjdXJyZW50IGZyYW1lXG5cbiAgICBsZXQgY3VycmVudFNjcm9sbCA9IGN1cnJlbnRTY3JvbGxQb3NpdGlvbiArIG5ld0Rpc3RhbmNlVG9DcmVhdGU7XG4gICAgLy8gPyB0aGUgZnVsbCBkaXN0YW5jZSBhd2F5IGZyb20gdGhlIGVsZW1lbnRzIGxlZnQgZWRnZSB0aGF0XG4gICAgLy8gPyB0aGUgZWxlbWVudHMgY29udGVudCB3aWxsIGJlIGZvciB0aGUgY3VycmVudCBmcmFtZVxuXG4gICAgLy8gKiBSZXZlcnNlIGRpcmVjdGlvbiBhdCB0aGUgZW5kc1xuICAgIGlmIChjdXJyZW50U2Nyb2xsID49IG1heFNjcm9sbCkgeyBcbiAgICAgIC8vID8gZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvbyBpcyBtb3JlIHJlbGlhYmxlIGhlcmUgdGhhbiBcbiAgICAgIC8vID8gZXF1YWxpdHkgaXQgZW5zdXJlcyB0aGF0IHRoZSBjb25kaXRpb24gaXMgbWV0IGV2ZW4gaWZcbiAgICAgIC8vID8gdGhlIGV4YWN0IHZhbHVlIGlzIHNraXBwZWQgb3ZlclxuICAgICAgLy8gPyBpdCBhbHNvIGFjY291bnRzIGZvciBlZGdlIGNhc2VzIHdoZXJlIGNvbnRlbnQgbWlnaHQgYmVcbiAgICAgIC8vID8gc2Nyb2xsZWQgc2xpZ2h0bHkgbW9yZSB0aGFuICdtYXhTY3JvbGwnIGR1ZSB0b1xuICAgICAgLy8gPyB1c2VyIGludGVyYWN0aW9uIG9yIGJyb3dzZXIgYmVoYXZpb3JcbiAgICAgIHNjcm9sbERpcmVjdGlvbiA9IC0xOyAvLyAqIENoYW5nZSBkaXJlY3Rpb24gdG8gYmFja3dhcmRcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRTY3JvbGwgPD0gMCkge1xuICAgICAgLy8gPyBzYW1lIGNvbmNlcHQgaGVyZSBhcyBhYm92ZVxuICAgICAgc2Nyb2xsRGlyZWN0aW9uID0gMTsgLy8gKiBDaGFuZ2UgZGlyZWN0aW9uIHRvIGZvcndhcmRcbiAgICB9XG5cbiAgICBjb250YWluZXJFbGVtZW50LnNjcm9sbExlZnQgPSBjdXJyZW50U2Nyb2xsO1xuXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNjcm9sbEVsZW1lbnRDb250ZW50KTtcbiAgfVxuXG4gIHNjcm9sbEVsZW1lbnRDb250ZW50KCk7IC8vIFN0YXJ0IHRoZSBzY3JvbGxpbmdcbn1cblxuZXhwb3J0IHsgY3JlYXRlU2Nyb2xsQW5pbWF0aW9uIH07Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJpIiwiRXJyb3IiLCJyZXBsYWNlIiwicCIsImV2ZW50cyIsIm9uIiwiZXZlbnROYW1lIiwiZm4iLCJwdXNoIiwib2ZmIiwic3BsaWNlIiwiZW1pdCIsImRhdGEiLCJmb3JFYWNoIiwiU0hPV19OQVZfRVZFTlQiLCJISURFX05BVl9FVkVOVCIsImhpZGVOYXYiLCJ6aWdaYWdOYXYiLCJxdWVyeVNlbGVjdG9yIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEF0dHJpYnV0ZSIsImluaXRpYXRlSGlkZU5hdiIsImFkZEV2ZW50TGlzdGVuZXIiLCJzaG93TmF2IiwidG9nZ2xlTmF2QnV0dG9uIiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJyZW1vdmUiLCJhZGQiLCJjcmVhdGVMaXN0SWNvbiIsImxpc3RJY29uQ29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImxpc3RJY29uQmFycyIsImFwcGVuZENoaWxkIiwiY2hlY2tUYXJnZXRFbGVtZW50RXhpc3RlbmNlIiwic2VsZWN0b3IiLCJ0YXJnZXRFbGVtZW50IiwiY29uc29sZSIsImVycm9yIiwiY29uY2F0Iiwic2V0QXR0cmlidXRlcyIsImVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwia2V5IiwiZW1pdFB1Ymxpc2hQcm9qZWN0QnV0dG9uTGlzdGVuZXIiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJzY3JpcHQiLCJhdHRyaWJ1dGUiLCJoZWFkIiwiYWRkU2NyaXB0VG9IZWFkIiwiY3Jvc3NvcmlnaW4iLCJwcm9qZWN0QXJyYXkiLCJwdWJsaXNoQWRkUHJvamVjdExpc3RlbmVyIiwicHJvamVjdE5hbWVJbnB1dCIsInByb2plY3ROYW1lIiwidmFsdWUiLCJ0cmltIiwicHJvamVjdExpc3QiLCJhbGVydCIsIm5ld1Byb2plY3QiLCJuYW1lIiwic3RhdGUiLCJ0YXNrcyIsImFkZFRhc2siLCJ0YXNrIiwic2V0UHJvamVjdCIsImdldFRhc2tzIiwiZ2V0TmFtZSIsInNldE5hbWUiLCJwcm9qZWN0RmFjdG9yeSIsInJldmVyc2VkUHJvamVjdEFycmF5Iiwic2xpY2UiLCJyZXZlcnNlIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwicHJvamVjdCIsInByb2plY3RCdXR0b24iLCJ0ZXh0Q29udGVudCIsImxpc3RJY29uIiwicHJvamVjdExpIiwiY3JlYXRlUHJvamVjdEl0ZW0iLCJ1cGRhdGVQcm9qZWN0TGlzdCIsImVtaXRJbml0aWFsaXplUHJvamVjdCIsImNvbnRlbnQiLCJnZXRFbGVtZW50QnlJZCIsImhlYWRlciIsImhlYWRlckxlZnQiLCJoZWFkZXJMb2dvIiwicHJpb3JpdHlMb2dvIiwiaGVhZGVyVGl0bGUiLCJoZWFkZXJSaWdodCIsInRoZW1lVG9nZ2xlQ29udGFpbmVyIiwidGhlbWVUb2dnbGVDaGVja2JveCIsInRoZW1lVG9nZ2xlTGFiZWwiLCJzdW5JY29uIiwibW9vbkljb24iLCJjcmVhdGVUaGVtZVRvZ2dsZUJ1dHRvbiIsImFyaWFDb250cm9sc0lEIiwibmF2VG9nZ2xlQnV0dG9uIiwibmF2VG9nZ2xlQmFycyIsImNyZWF0ZU5hdlRvZ2dsZUJ1dHRvbiIsImNyZWF0ZUhlYWRlciIsIm9iamVjdE9mTGlzdHMiLCJpbml0aWFsUGFnZSIsImFuY2hvck9yQnV0dG9uIiwic3BlY2lhbE5hdkxpc3RJdGVtQXJyYXkiLCJfbG9vcCIsImxpc3RDb250YWluZXIiLCJsaXN0SGVhZGVyIiwibGlzdCIsImxpc3RVTCIsImdyb3VwZWRMaXN0RWxlbWVudHMiLCJsaXN0RWxlbWVudHMiLCJsaXN0RnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwicGFnZU5hbWVBbmRIcmVmIiwiaW5kZXgiLCJwYWdlTmFtZSIsIm5hdkxpbmsiLCJuYXZMSSIsImNyZWF0ZVppZ1phZ05hdiIsIkhvbWUiLCJQcm9qZWN0cyIsInByb2plY3ROYXZMaXN0Q29udGFpbmVyIiwiaW5zZXJ0QmVmb3JlIiwicHJldmVudERlZmF1bHQiLCJhZGRQcm9qZWN0QnV0dG9uIiwiY2FuY2VsQWRkUHJvamVjdEJ1dHRvbiIsInByb2plY3RJbnB1dENvbnRhaW5lciIsInByb2plY3RCdXR0b25zQ29udGFpbmVyIiwicHJvamVjdEZvcm1Db250YWluZXIiLCJuZXdQcm9qZWN0QnV0dG9uIiwiYWRkUHJvamVjdENvbnRhaW5lciIsImNyZWF0ZUFkZFByb2plY3RDb250YWluZXIiLCJsYXN0Q2hpbGQiLCJtYWluIiwibWFpbkNvbnRhaW5lciIsIm1haW5IZWFkaW5nIiwibWFpbkNvbnRlbnQiLCJ0YXNrTGlzdCIsInBsYWNlaG9sZGVyVGV4dCIsInBsYWNlaG9sZGVyQ29udGFpbmVyIiwiY3JlYXRlTWFpbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb250YWluZXIiLCJjb250YWluZXJFbGVtZW50IiwibWF4U2Nyb2xsIiwic2Nyb2xsRGlyZWN0aW9uIiwic2Nyb2xsV2lkdGgiLCJjbGllbnRXaWR0aCIsInNjcm9sbEVsZW1lbnRDb250ZW50IiwidGltZXN0YW1wIiwiY3VycmVudFNjcm9sbCIsInNjcm9sbExlZnQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJwcm9qZWN0Rm9ybUNvbnRhaW5lckhpZGRlbiIsImdldEF0dHJpYnV0ZSIsImlzSGlkZGVuIiwiY2hlY2tUYXJnZXRFbGVtZW50VmlzaWJpbGl0eSJdLCJzb3VyY2VSb290IjoiIn0=